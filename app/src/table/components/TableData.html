<md-toolbar layout="row" class="md-toolbar-tools md-whiteframe-4dp" md-colors="{background: 'default-primary-hue-2', color: 'background-A100'}">
    <section flex="5">

    </section>
    <span ng-if="$ctrl.data.active_filters.length == null" flex></span>
    <section ng-if="$ctrl.data.active_filters.length == 0" flex>
    <span><em>No active filters yet.</em></span>
    </section>
    <section ng-if="$ctrl.data.active_filters.length > 0" flex="30">
        <md-chips class="custom-chips" ng-model="$ctrl.data.active_filters" readonly="true"
            md-removable="true" md-on-remove="$ctrl.updateFilters($chip)">
    <md-chip-template>
        <span>
            <strong>{{$chip.name}}</strong>
            <em>({{$chip.value}})</em>
        </span>
    </md-chip-template>
    <button md-chip-remove class="md-primary filterchips">
        <md-icon md-font-set="material-icons"> clear </md-icon>
    </button>
</md-chips>
    </section>
    <section flex>
      <!--<h1>
        <span>My files</span>
        <md-icon class="material-icons" md-font-set='material-icons' style="color: white">chevron_right</md-icon>
        <span>U11_80M_R2.annotated.hg19_multianno</span>
      </h1>-->

</section>
<section flex layout="row" layout-align="end center">
 
  <md-button class="md-raised md-accent" ng-click="$ctrl.openDialog($event, 'filters')">
    Filters
  </md-button>
  <md-button class="md-raised md-accent" ng-click="$ctrl.openSideMenu()">
    Statistics
  </md-button>
</section>
</md-toolbar>

<section layout="row" flex>

</section>
<section layout="row" flex>     
<md-card layout="column" flex="70">
    <md-card-header>
        <md-card-header-text>
            <span class="md-title">Details for file "{{$ctrl.filename}}"</span>
        </md-card-header-text>
    </md-card-header>
    <md-toolbar class="md-table-toolbar md-default">
        <div class="md-toolbar-tools">
            <span ng-hide="$ctrl.hits != null">
                <md-progress-circular ng-disabled="$ctrl.hits != null" class="md-hue-2" md-diameter="20px"></md-progress-circular>
            </span>
            <span ng-hide="$ctrl.hits == null">Total number of rows: {{$ctrl.hits}}</span>
            <span flex></span>
            <span>
                <md-input-container md-no-float>
                    <label>Rows per page:</label>
                    <md-select ng-model="$ctrl.query.limit" placeholder="Rows per page" ng-change="$ctrl.getElems('limit')">
                        <md-option ng-value="value" ng-repeat="value in [10, 15, 20]">{{ value }}</md-option>
                        </md-select>
                    </md-input-container>
            </span>
            <span><md-button class="md-raised" ng-disabled="$ctrl.previous.length == 0" ng-click="$ctrl.getElems('back')"> Previous </md-button></span>
            <span><md-button class="md-raised" ng-disabled="" ng-click="$ctrl.getElems('next')"> Next </md-button></span>
        </div>
    </md-toolbar>
    <md-table-container>
        <table md-table md-progress="$ctrl.promise">
            <thead md-head>
                <tr md-row>
                    <th md-column ng-repeat="h in $ctrl.data.header track by $index" ng-if="$ctrl.show_header[$index]"><span md-colors="{color: 'default-primary-hue-2'}">{{ h }}</span></th>
                </tr>
            </thead>
            <tbody md-body style="height:auto; max-height: 400px; overflow-y: auto">
                <tr md-row ng-repeat="row in  $ctrl.data.rows track by $index" ng-click="$ctrl.openDialog($event, 'summary', row)">
                    <td md-cell ng-repeat="el in row track by $index" ng-if="$ctrl.show_header[$index]">
                        <span ng-if="!$ctrl.isArray(el)">{{el == null ? ".": el}}</span>
                        <p ng-if="$ctrl.isArray(el)" ng-repeat="i in el track by $index">{{i}}</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </md-table-container>

                <!--<md-table-pagination md-boundary-links md-limit="$ctrl.query.limit" md-limit-options="[5, 10, 15]" md-page="$ctrl.query.page"
                    md-total="{{$ctrl.data.count}}" md-on-paginate="$ctrl.getElems" md-page-select ></md-table-pagination>-->
</md-card>

<section layout="column" flex="30">     
    
    <md-card style="height:auto; max-height: 550px;">
        <md-card-header>
            <md-card-header-text>
                <span class="md-title">Table properties</span>
                <span class="md-subhead">Select columns you want to display</span>
            </md-card-header-text>
        </md-card-header>
        <md-divider></md-divider>
        <md-card-content layout="column" flex style="height:auto; max-height: 550px; overflow-y:scroll;">
            <md-list>
                <md-list-item ng-repeat="h in $ctrl.data.header track by $index">
                    <p> {{ h }} </p>
                    <md-checkbox class="md-secondary" ng-model="$ctrl.show_header[$index]"></md-checkbox>
                </md-list-item>
            </md-list>
            </md-content>

    </md-card>

    <!-- <md-card style="height:auto; max-height: 300px;">
        <md-card-header>
            <md-card-header-text>
                <span class="md-title">Information for selected row</span>
                <span class="md-subhead">Click on a row to view its data</span>
            </md-card-header-text>
        </md-card-header>
        <md-divider></md-divider>
        <md-card-content style="height:auto; max-height: 250px; overflow-y: auto">
             <md-list>
            <ng-repeat ng-repeat="el in $ctrl.selected track by $index">
                <md-list-item class="md-2-line">
                    <div class="md-list-item-text" layout="column">
                        <strong>{{$ctrl.data.header[$index]}}</strong>
                        <em ng-if="!$ctrl.isArray(el)">{{el == null ? ".": el}}</em>
                        <em ng-if="$ctrl.isArray(el)">
                            <ng-repeat ng-repeat="i in el">{{i}} {{$last ? "": ","}}</ng-repeat>
                        </em>
                        <em ng-if="$ctrl.isArray(el)" ng-repeat="i in el track by $index">{{i}}</em>
                    </div>
                </md-list-item>
                </ng-repeat>
        </md-list>
        </md-card-content>
    </md-card> -->
</section>
</section>




